<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Virtual PBX</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="img/virtual-pbx.ico">

    <!-- Boostrap 3.3 -->
    <link rel="stylesheet" href="dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/dataTables.bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="dist/css/datatables.min.css" />

    <!-- Style -->
    <link rel="stylesheet" href="css/style.css">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- JS -->
    <script src="js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>
    <script src="js/vendor/jquery-1.11.2.js"></script>

    <script src="dist/js/dataTables.bootstrap.min.js"></script>
    <script type="text/javascript" src="js/vendor/datatables.min.js"></script>
</head>

<body>

    <header class="nav-down responsive-nav hidden-lg hidden-md">
        <button type="button" id="nav-toggle" class="navbar-toggle" data-toggle="collapse" data-target="#main-nav">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>

        <!--navbar-header-->
        <div id="main-nav" class="collapse navbar-collapse">
            <nav>
                <ul class="nav navbar-nav">
                    <li>
                        <div class="user-photo-mobile">
                            <img src="img/user.png" alt="">
                            <h3>Your</h3>
                            <h5>Wallet : <span id="id-wallet-saldo2"></span></h4>
                        </div>
                    </li>                    
                    <li><a href="user_pbx.html"><i class="fa fa-list-alt" style="margin-right: 5px;"></i>MANAGE PBX</a>
                    </li>
                    <li><a href="user_request.html"><i class="fa fa-list" style="margin-right: 5px;"></i>REQUEST PBX</a>
                    </li>
                    <li><a href="user_call_log.html"><i class="fa fa-phone-square" style="margin-right: 5px;"></i>CALL
                            LOG</a></li>
                    <li><a href="user_wallet.html"><i class="fa fa-credit-card-alt" style="margin-right: 5px;"></i>WALLET</a>
                    </li>
                    <li><a data-toggle="modal" data-target="#logout"><i class="fa fa-sign-out"
                                style="margin-right: 5px;"></i>LOG OUT</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="sidebar-navigation hidde-sm hidden-xs">

        <nav>
            <div class="user-photo">
                <img src="img/user.png" alt="">
                <h3 id="id-username"></h3>
                <h5>Wallet : <span id="id-wallet-saldo1"></span></h5>
            </div>
            <ul>                
                <li>
                    <a href="user_pbx.html"><i class="fa fa-list-alt" style="margin-right: 5px;"></i>MANAGE PBX</a>
                    <div style="height: 1px;width: auto;background-color: #00000017; margin-bottom: 5px;"></div>
                </li>
                <li>
                    <a href="user_request.html"><i class="fa fa-list" style="margin-right: 5px;"></i>REQUEST PBX</a>
                </li>
                <li>
                    <a href="user_call_log.html"><i class="fa fa-phone-square" style="margin-right: 5px;"></i>CALL LOG</a>
                    <div style="height: 1px;width: auto;background-color: #00000017;margin-bottom: 5px;"></div>
                </li>
                <li>
                    <a href="user_wallet.html"><i class="fa fa-credit-card-alt" style="margin-right: 5px;"></i>WALLET</a>
                    <div style="height: 1px;width: auto;background-color: #00000017;margin-bottom: 5px;"></div>
                </li>
                <li>
                    <a data-toggle="modal" data-target="#logout"><i class="fa fa-sign-out"
                            style="margin-right: 5px;"></i>LOG OUT</a>
                    <div style="height: 1px;width: auto;background-color: #00000017;margin-bottom: 5px;"></div>
                </li>
            </ul>
        </nav>
    </div>
    <div class="content">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-4 col-xs-7">
                    <div class="title-page">
                        <h3>MANAGE PBX</h3>
                    </div>
                </div>
                <div class="col-md-2 col-md-offset-6 col-xs-5">
                    <div class="logo-vp">
                        <img src="img/virtual-pbx.png">
                        <img src="img/telkom-indonesia.png">
                    </div>
                </div>
                <div class="col-md-12 col-xs-12">
                    <div class="line-title"></div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 col-xs-12">
                    <div class="row">
                        <form class="form-detail-pbx">
                            <div class="form-group col-md-3">
                                <a class="btn btn-primary" data-toggle="modal" data-target="#modal-pbx-extension"><i class="fa fa-plus-circle" aria-hidden="true"></i>New Extension</a>
                            </div>
                            
                            <div class="form-group col-md-3">
                                <a id="btn-enable-outgoing" class="btn btn-primary btn-block"><i class="fa fa-phone"aria-hidden="true"></i>Enable Outgoing Call</a>
                            </div>
                            
                            <div class="form-group col-md-3">
                                <a id="btn-enable-incoming" class="btn btn-primary btn-block"><i class="fa fa-minus-circle" aria-hidden="true"></i></i>Enable incoming call</a>
                            </div>
                        </form>
                    </div>
                </div>
                <!-- Isi -->
                <div class="col-md-12 col-xs-12">
                    <div class="table-responsive">
                        <table id="tb2" class="table table-striped table-bordered">
                            <thead>
                                <tr>
                                    <th id="id-pbx-name">PBX Name</th>
									<th id="id-pbx-address" >IP Address</th>
									<th id="id-pbx-max-extension" >Max Extensions</th>
									<th id="id-pbx-outgoing-number" >Your Number</th>
									<th id="id-pbx-cac" >CAC</th>
									<th id="id-pbx-saldo" >Saldo PBX (Rp)</th>
									<th id="id-pbx-action" >Action</th>
                                </tr>
                            </thead>
                            <tbody id="id-tbody-status">
                            </tbody>
                        </table>
                        <table id="tb" class="table table-striped table-bordered">
                            <thead>
                                <tr>
                                    <th id="id-pbx-row-extesion-name">Nama</th>
									<th id="id-number" >No. Extension</th>
									<th id="id-pbx-row-extension-number" >Email</th>
									<th id="id-pbx-row-extension-forwarded-number" >Forwarded Number</th>
									<th id="id-pbx-row-extesion-saldo" >Saldo Extension (Rp)</th>
									<th id="id-pbx-row-extension-action" >Action</th>
                                </tr>
                            </thead>
                            <tbody id="id-tbody-extensions">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer class="footer">
        <span>Copyright Â© 2020 Telkom - Direktorat Digital Business</span>
    </footer>

    <!-- Modal -->
    <!-- Modal New Extension -->
    <div class="modal fade" id="modal-pbx-extension" role="dialog">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">New Extension</h4>                    
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="">Nama</label>
                        <input type="text" class="form-control"
                               name="extension-number" size="25"
                               id="id-extension-name-assignee" placeholder="Nama Pengguna"
                               min="0">
                    </div>
                    <div class="form-group">
                        <label for="">No. Extension</label>
                        <input type="number" class="form-control"
                               name="extension-number" size="25"
                               id="id-extension-username" placeholder="Nomor Ekstensi" min="0"
                               required>
                    </div>
                    <div class="form-group">
                        <label for="">Password</label>
                        <input type="password" class="form-control"
                               name="extension-password" size="25"
                               id="id-extension-secret" placeholder="Password" required>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="id-pbx-row-extesion-assign">E-mail</label>
                        <input type="text" class="form-control" name="extesion-assign" size="25" id="id-extension-email-assignee"
                               placeholder="Email Pengguna">
                    </div>
                </div>
                <div class="modal-footer">
                    <div id="id-spinner-new-extension"
                         style="text-align: center; display: none;">
                        <div style="margin: 10px;"
                             class="spinner-border text-primary" role="status">
                        </div>
                        <h6>Submitting data...</h6>
                    </div>
                    <button id="id-new-extension-cancel" type="button"
                            class="btn btn-default" data-dismiss="modal">Cancel</button>
                    <button id="id-new-extension-submit" type="button"
                            class="btn btn-primary">Submit</button>
                </div>
            </div>
        </div>
    </div>
    <!-- MODAL ENABLE OUTGOING -->
    <div class="modal fade" id="modal-enable-outgoing" role="dialog">
        <div class="modal-dialog">            
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Enable Outgoing Call</h4>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="">Call Limit</label>
                        <select type="number" class="form-control" id="id-call-limit">
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <div id="id-spinner-enable-outgoing"
                            style="text-align: center; display: none;">
                        <div style="margin: 10px;"
                                class="spinner-border text-primary" role="status">
                        </div>
                        <h6>Submitting data...</h6>
                    </div>
                    <button id="id-enable-outgoing-cancel" type="button"
                            class="btn btn-danger" data-dismiss="modal">Cancel</button>
                    <button id="id-enable-outgoing-submit" type="button"
                            class="btn btn-primary">Submit</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal Action Edit -->
    <div class="modal fade" id="modal-update-pbx-extension" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Update Extension</h4>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="">No. Extension</label>
                        <input type="number" class="form-control" name="extension-number" size="25" id="id-update-extension-username"
                               placeholder="Nomor Ekstensi">
                    </div>
                    <div class="form-group">
                        <label for="">Password</label>
                        <input type="password" class="form-control" name="extension-password" size="25" id="id-update-extension-secret"
                               placeholder="Password">
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="">Enable Call Forwarding</label><br>
                        <label for=""><input type="radio" name="extesion-call-forwarding" size="25" id="id-extension-call-forwarding-yes"> Yes</label>
                        <label for=""><input type="radio" name="extesion-call-forwarding" size="25" id="id-extension-call-forwarding-no"> No</label>
                    </div>
                    <div class="form-group" id="id-form-extension-call-forwarding">
                        <label for="">Forward Extension</label>
                        <select type="number" class="form-control" id="id-extension-call-forwarding-number">
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <div id="id-spinner-update-extension"
                         style="text-align: center; display: none;">
                        <div style="margin: 10px;" class="spinner-border text-primary"
                             role="status">
                        </div>
                        <h6>Submitting data...</h6>
                    </div>
                    <button id="id-update-extension-cancel" type="button" class="btn btn-danger"
                            data-dismiss="modal">Cancel</button>
                    <button id="id-update-extension-submit" type="button"
                            class="btn btn-primary">Submit</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Action Detail -->
    <div class="modal fade" id="modal-update-pbx-extension" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Detail</h4>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for=""></label>
                        <input type="number" class="form-control" name="extension-number"
                               size="25" id="id-update-extension-username"
                               placeholder="Nomor Ekstensi">
                    </div>
                    <div class="form-group">
                        <label for="">Password</label>
                        <input type="password" class="form-control" name="extension-password"
                               size="25" id="id-update-extension-secret" placeholder="Password">
                        </select>
                    </div>
                    <!--  <div class="form-group">
                     <label for="id-pbx-row-extesion-assign">Nama Pengguna</label>
                     <input type="text" class="form-control" name="extesion-assign" size="25"
                         placeholder="Nama Pengguna">
                     </div> -->
                </div>
                <div class="modal-footer">
                    <div id="id-spinner-update-extension"
                         style="text-align: center; display: none;">
                        <div style="margin: 10px;" class="spinner-border text-primary"
                             role="status">
                        </div>
                        <h6>Submitting data...</h6>
                    </div>
                    <button id="id-update-extension-cancel" type="button" class="btn btn-danger"
                            data-dismiss="modal">Cancel</button>
                    <button id="id-update-extension-submit" type="button"
                            class="btn btn-primary">Submit</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Action Top Up -->
    <div class="modal fade" id="modal-top-up-saldo-pbx" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Top Up Saldo PBX</h4>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for=""><input type="radio" name="top-up-saldo-pbx" size="25" id="id-top-up-saldo-pbx-enable"> Enable Saldo PBX</label>
                        <label for=""><input type="radio" name="top-up-saldo-pbx" size="25" id="id-top-up-saldo-pbx-disable"> Disable Saldo PBX</label>
                    </div>
                    <div class="form-group" id="id-form-top-up-saldo-pbx">
                        <label for="">Nominal</label>
                        <input type="number" class="form-control" name="nominal-top-up-pbx" size="25" id="id-nominal-top-up-pbx"
                               placeholder="Nominal Top Up">
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <div id="id-spinner-top-up-saldo-pbx"
                         style="text-align: center; display: none;">
                        <div style="margin: 10px;" class="spinner-border text-primary"
                             role="status">
                        </div>
                        <h6>Submitting data...</h6>
                    </div>
                    <button id="id-top-up-saldo-pbx-cancel" type="button" class="btn btn-danger"
                            data-dismiss="modal">Cancel</button>
                    <button id="id-top-up-saldo-pbx-submit" type="button"
                            class="btn btn-primary">Submit</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Action Top Up Extension -->
    <div class="modal fade" id="modal-top-up-saldo-extension" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Top Up Saldo Extension</h4>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for=""><input type="radio" name="top-up-saldo-extension" size="25" id="id-top-up-saldo-extension-enable"> Enable Saldo Extension</label>
                        <label for=""><input type="radio" name="top-up-saldo-extension" size="25" id="id-top-up-saldo-extension-disable"> Disable Saldo Extension</label>
                    </div>
                    <div class="form-group" id="id-form-top-up-saldo-extension">
                        <label for="">Nominal</label>
                        <input type="number" class="form-control" name="nominal-top-up-extension" size="25" id="id-nominal-top-up-extension"
                               placeholder="Nominal Top Up">
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <div id="id-spinner-top-up-saldo-extension"
                         style="text-align: center; display: none;">
                        <div style="margin: 10px;" class="spinner-border text-primary"
                             role="status">
                        </div>
                        <h6>Submitting data...</h6>
                    </div>
                    <button id="id-top-up-saldo-extension-cancel" type="button" class="btn btn-danger"
                            data-dismiss="modal">Cancel</button>
                    <button id="id-top-up-saldo-extension-submit" type="button"
                            class="btn btn-primary">Submit</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Logout -->
    <div class="modal fade" id="logout" role="dialog">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Logout</h4>
                    <span>Virtual PBX</span>
                </div>
                <div class="modal-body">
                    <p>Apakah anda yakin?</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Tidak</button>
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Ya</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="hapus" role="dialog">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Hapus</h4>
                </div>
                <div class="modal-body">
                    <p>Apakah anda yakin?</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Tidak</button>
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Ya</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        window.jQuery || document.write('<script src="js/vendor/jquery-1.11.2.js"><\/script>')
    </script>
    <script src="dist/js/bootstrap.min.js"></script>

    <script src="js/vendor/plugins.js"></script>
    <script src="js/vendor/main.js"></script>

    <script>
        // Hide Header on on scroll down
        var didScroll;
        var lastScrollTop = 0;
        var delta = 5;
        var navbarHeight = $('header').outerHeight();

        $(window).scroll(function (event) {
            didScroll = true;
        });

        setInterval(function () {
            if (didScroll) {
                hasScrolled();
                didScroll = false;
            }
        }, 250);

        function hasScrolled() {
            var st = $(this).scrollTop();

            // Make sure they scroll more than delta
            if (Math.abs(lastScrollTop - st) <= delta)
                return;

            // If they scrolled down and are past the navbar, add class .nav-up.
            // This is necessary so you never see what is "behind" the navbar.
            if (st > lastScrollTop && st > navbarHeight) {
                // Scroll Down
                $('header').removeClass('nav-down').addClass('nav-up');
            } else {
                // Scroll Up
                if (st + $(window).height() < $(document).height()) {
                    $('header').removeClass('nav-up').addClass('nav-down');
                }
            }

            lastScrollTop = st;
        }
    </script>
    <script type="module" src="js/Wallet.js"></script>
    <script>
        $(document).ready(function () {
            $('#tb').DataTable({
                "paging": true,
                "searching": false,
                "lengthChange": false,
            });
        });
    </script>
    <script type="module" src="js/Extension.js"></script>
    <script src="https://apis.google.com/js/platform.js?onload=init" async defer></script>


</body>

</html>